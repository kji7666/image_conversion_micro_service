<template>
    <ul class = "header-nav">
<!-- 
ğŸ‘‰ ç‚ºä»€éº¼ç”¨ <ul>ï¼Ÿ
ç”¨ <ul> æ˜¯å› ç‚ºæˆ‘å€‘è¦ç•«å‡ºä¸€å€‹ã€Œé¸å–®åˆ—ã€ï¼Œæ¯å€‹é¸é …éƒ½æ˜¯åˆ—è¡¨ï¼ˆåƒï¼šç†±é–€ã€æ–°æ­Œã€æ’è¡Œæ¦œï¼‰ï¼Œç”¨ <li> æ­é… <ul> æ˜¯æœ€å¸¸è¦‹çš„ HTML å¯«æ³•ï¼Œä¹Ÿæ–¹ä¾¿æ§åˆ¶æ¨£å¼ã€‚  
ğŸ‘‰ ç‚ºä»€éº¼ç”¨ :class åŠ æ¢ä»¶ï¼Ÿ
é€™æ˜¯ Vue çš„å‹•æ…‹ class èªæ³•ã€‚æ„æ€æ˜¯ï¼šå¦‚æœé€™å€‹é …ç›®çš„åå­—æ˜¯"ç›®å‰é¸ä¸­çš„"ï¼Œå°±å¥—ç”¨ active æ¨£å¼ã€‚é€™æ¨£å°±å¯ä»¥åœ¨ç•«é¢ä¸Šã€Œé«˜äº®é¸ä¸­é …ç›®ã€ã€‚
ğŸ‘‰ ç‚ºä»€éº¼ç”¨ v-forï¼Ÿ
ä½ ä¸å¯èƒ½ä¸€è¡Œè¡Œæ‰‹å¯«æ¯å€‹é¸å–®å§ï¼Ÿç”¨ v-for å¯ä»¥æ ¹æ“šå‚³é€²ä¾†çš„ styleList é™£åˆ—"å‹•æ…‹"ç”¢ç”Ÿå¹¾å€‹ <li>ï¼Œé€™æ¨£å…ƒä»¶æ‰é€šç”¨ã€å½ˆæ€§ã€‚
ğŸ‘‰ ç‚ºä»€éº¼è¦åŠ  :keyï¼Ÿ
Vue åœ¨æ›´æ–°ç•«é¢æ™‚æœƒæ¯”è¼ƒæ¯å€‹å…ƒç´ ã€‚key æ˜¯ã€Œèº«åˆ†è­‰ã€ï¼Œå¯ä»¥è®“ Vue æ›´å¿«ã€æ›´æ­£ç¢ºåœ°æ¯”å°è³‡æ–™ï¼Œé¿å…æ¸²æŸ“éŒ¯èª¤æˆ–æ•ˆç‡ä½ã€‚
ğŸ‘‰ ç‚ºä»€éº¼ä¸ç”¨ç›´æ¥å¯« $emitï¼Ÿ
æŠŠåŠŸèƒ½æŠ½å‡ºä¾†å¯«æˆ handleChangeView() æ˜¯å¥½ç¿’æ…£ï¼Œé€™æ¨£å¯è®€æ€§å¥½ã€å¥½ç¶­è­·ï¼Œä¸”ä¹‹å¾ŒåŠŸèƒ½æ”¹è®Šï¼ˆä¾‹å¦‚è¨˜éŒ„é»æ“Šæ¬¡æ•¸ï¼‰ä¹Ÿå¥½åŠ æ±è¥¿ã€‚
ğŸ‘‰ ç‚ºä»€éº¼åªé¡¯ç¤º nameï¼Ÿ
styleList çš„æ¯å€‹å…ƒç´ æ‡‰è©²é•·é€™æ¨£ { name: 'ç†±é–€', path: '/hot' }ï¼Œä½ åªè¦é¡¯ç¤ºåå­—å³å¯ï¼Œè·¯å¾‘æ˜¯é»æ“Šå¾Œå…§éƒ¨ä½¿ç”¨çš„è³‡æ–™ã€‚
-->
        <li
            :class="{ active: item.name === activeName }" 
            v-for = "item in styleList"
            :key = "item.path"
            @click="handleChangeView(item)"
        >
            {{ item.name }}
        </li>
    </ul>
</template>

<!--ä½ å¯«çš„æ¯ä¸€å€‹è®Šæ•¸èˆ‡å‡½å¼éƒ½æœƒã€Œè¢« Vue çœ‹åˆ°ã€ï¼Œä¸éœ€è¦é¡¯å¼å›å‚³çµ¦æ¨¡æ¿ä½¿ç”¨ã€‚é€™è®“é–‹ç™¼è€…èƒ½å°ˆæ³¨åœ¨é‚è¼¯æœ¬èº«ï¼Œè€Œä¸æ˜¯æ¡†æ¶èªæ³•ã€‚-->
<script setup lang="ts">
import { defineProps, defineEmits, defineOptions } from 'vue';

// å‘Šè¨´ Vueã€Œæˆ‘æœƒå¾çˆ¶å…ƒä»¶æ¥æ”¶åˆ°é€™äº›è³‡æ–™ã€ã€‚
// çˆ¶å…ƒä»¶æ˜¯ä»€éº¼ï¼Ÿç°¡å–®è¬›å°±æ˜¯ã€Œèª°ç”¨ä½ ï¼Œä½ çš„çˆ¸çˆ¸å°±æ˜¯èª°ã€ã€‚
const props = defineProps<{
    styleList: Array<{name:string, path:string}>, // styleList è¡¨ç¤ºä½ å¸Œæœ›å…ƒä»¶ç”±å¤–éƒ¨æä¾›é¸å–®é …ç›®ï¼Œè€Œä¸æ˜¯å¯«æ­»åœ¨å…§éƒ¨ã€‚
    activeName : string
}>()

// ç•¶ä½ å¸Œæœ›å­å…ƒä»¶ã€Œé€šçŸ¥ã€çˆ¶å…ƒä»¶ä¸€äº›äº‹ä»¶ï¼ˆä¾‹å¦‚æŒ‰äº†å“ªå€‹é¸é …ï¼‰ï¼Œä½ å°±æœƒç”¨åˆ° emitã€‚
const emit = defineEmits<{ // TypeScript ä¸­å°å‡½å¼å‹åˆ¥çš„æè¿°ï¼Œå®ƒè¡¨æ˜ã€Œé€™æ˜¯ä¸€å€‹å‡½å¼ï¼Œæ¥æ”¶ä¸‰å€‹åƒæ•¸ï¼Œå›å‚³å€¼æ˜¯ voidï¼ˆä¹Ÿå°±æ˜¯æ²’æœ‰å›å‚³å€¼ï¼‰ã€
    (e: 'click', name : string, path : string) : void
}>()

defineOptions({ name: 'HeaderNav' }) // ğŸ‘ˆ çµ¦å…ƒä»¶å‘½å

// é€™å€‹å‡½å¼å…¶å¯¦å°±æ˜¯äº‹ä»¶æ©‹æ¨‘ï¼Œå¹«ä½ æŠŠé»é¸çš„å…§å®¹å›å ±çµ¦ä¸Šå±¤å…ƒä»¶ä½¿ç”¨ã€‚
function handleChangeView(item: { name : string, path : string }) {
    emit('click', item.name, item.path)
}
</script>

<style lang = "scss" scoped>
@import "../assets/css/var.scss";

// é€™ç¨®æ’ç‰ˆä¸æ˜¯é  list æ§åˆ¶, è¦æ‰¾ä»–çš„å®¹å™¨
.header-nav {
    display: flex;
    list-style: none;
    justify-content: space-around;
    padding-top: 10px;
    padding-left: 100px;
    padding-right: 100px;
    margin: 0;
}

li {
  margin: $header-nav-margin;
  padding: $header-nav-padding;
  line-height: 3.3rem;
  color: $color-grey;
  border-bottom: none;
  cursor: pointer;
  transition: all 0.2s ease; // ğŸ‘‰ å¢åŠ æ»‘é¼ ç§»å‹•æ™‚çš„å‹•ç•«éæ¸¡æ•ˆæœ
}

li.active {
  color: $color-black;
  font-weight: 600;
  border-bottom: 5px solid $color-black;
}

li:hover {
    color: $color-blue-dark;
    border-bottom: 5px solid $color-blue-dark; // ğŸ‘‰ æ»‘é¼ ç§»ä¸Šæ™‚åŠ åº•ç·š
    font-weight: 500;
    transform: translateY(-2px); // ğŸ‘‰ å¯é¸ï¼šæœ‰ç¨®ã€Œæµ®èµ·ä¾†ã€çš„æ„Ÿè¦º
}

</style>
